<!DOCTYPE html>
<html>
<body>

<h1>Hello Andrew</h1>

<p id="demo">This first version will change the background colour between red, yellow and green</p>

<script>

async function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
}

async function myFunction() {
	console.log('Starting!')
	let milli_in_seconds = 1000
	let minimum_delay = 3
	let maximum_added_delay = 3

	const colours = ["red", "white", "black", "oraange", "green", "yellow", "pink", "purple", "blue", "gray"]

	let delay = Math.random() * maximum_added_delay
	console.log('delay = ' + (delay + minimum_delay))

	let colour = Math.floor(Math.random() * colours.length)

	let current_colour = 0

	current_colour = colours.indexOf(document.body.style.backgroundColor)

	if (current_colour === undefined || current_colour == -1) {current_colour = 0}
	
	let selection_number = (current_colour + colour) % colours.length

	let selection = colours[selection_number]

	console.log('choosing = ' + selection)

	await sleep(minimum_delay * milli_in_seconds + (milli_in_seconds * delay));

	document.body.style.backgroundColor = selection

	console.log('Done')
}

async function myFunction2() {
	console.log('Starting!')
	document.body.style.backgroundColor = "white";
	console.log('Done')
}
</script>

<button type="button" onclick="myFunction()">Begin!</button>
<button type="button" onclick="myFunction2()">Reset!</button>

</body>
</html>

